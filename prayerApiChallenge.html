<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مواقيت الصلاة</title>
    <style>
    body {
        background: linear-gradient(45deg, #2c3e50, #34495e, #1c2833); 
        display: flex;
        flex-direction: column;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        height: 100vh;
        margin: 0;
        color: #fff;
        text-align: center;
        overflow: hidden;
    }
    
    .split-top, .split-center, .split-bottom {
        border-radius: 15px;
        margin: 10px;
    }
    
    .split-top {
        height: 30vh;
        display: flex;
        background: linear-gradient(45deg, #3498db, #2980b9, #1c5980); 
        justify-content: center;
        align-items: center;
        font-size: 28px;
        font-weight: bold;
        color: #fff;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        text-transform: uppercase;
        letter-spacing: 2px;
    }
    
    .split-center {
        height: 50vh;
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        flex-wrap: wrap;
        padding: 20px;
        gap: 20px;
    }
    
    .split-bottom {
        height: 20vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(45deg, #34495e, #2c3e50, #1c2833); 
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        font-size: 18px;
    }
    
    .prayer-time-box-1,
    .prayer-time-box-2,
    .prayer-time-box-3,
    .prayer-time-box-4,
    .prayer-time-box-5 {
        width: 100px;
        height: 150px;
        padding: 20px;
        border: 3px solid #3498db;
        margin: 10px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        background-color: #ecf0f1;
        border-radius: 12px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, background-color 0.3s ease;
    }
    
    .prayer-time-box-1:hover,
    .prayer-time-box-2:hover,
    .prayer-time-box-3:hover,
    .prayer-time-box-4:hover,
    .prayer-time-box-5:hover {
        transform: translateY(-8px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
        background-color: #d5e6f1;
    }
    
    .prayer-time-box-1 h1,
    .prayer-time-box-2 h1,
    .prayer-time-box-3 h1,
    .prayer-time-box-4 h1,
    .prayer-time-box-5 h1 {
        font-size: 24px;
        margin: 0;
        color: #2c3e50;
        text-transform: capitalize;
    }
    
    .prayer-time-box-1 h3,
    .prayer-time-box-2 h3,
    .prayer-time-box-3 h3,
    .prayer-time-box-4 h3,
    .prayer-time-box-5 h3 {
        font-size: 18px;
        margin: 8px 0 0;
        color: #7f8c8d;
    }
    
    .prayer-zone-selector form {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 15px;
        padding: 20px;
    }
    
    .prayer-zone-selector label,
    .prayer-zone-selector select,
    .prayer-zone-selector input[type="submit"] {
        font-size: 18px;
        margin: 5px 0;
        letter-spacing: 1px;
    }
    
    .prayer-zone-selector select {
        padding: 10px;
        width: 200px;
        border: 2px solid #3498db;
        border-radius: 8px;
        background-color: #ecf0f1;
        color: #2c3e50;
        font-size: 16px;
        transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    
    .prayer-zone-selector select:hover {
        background-color: #d5e6f1;
        border-color: #2980b9;
    }
    
    .prayer-zone-selector input[type="submit"] {
        padding: 12px 24px;
        background-color: #3498db;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
    }
    
    .prayer-zone-selector input[type="submit"]:hover {
        background-color: #2980b9;
        transform: scale(1.05);
    }
    
    @media (max-width: 768px) {
        .split-top {
            font-size: 10px;
        }
    
        .split-center {
            height: auto;
        }
    
        .prayer-time-box-1,
        .prayer-time-box-2,
        .prayer-time-box-3,
        .prayer-time-box-4,
        .prayer-time-box-5 {
            width: 100%;
            margin: 10px 0;
        }
    
        .prayer-zone-selector select,
        .prayer-zone-selector input[type="submit"] {
            width: 100%;
        }
    }
    </style>    
</head>
<body>

    <div class="split-top">
        <p>مواقيت الصلاة لليوم</p>
    </div>

    <div class="split-center">
        <!-- First Prayer -->
        <div class="prayer-time-box-1">
            <h1>الفجر</h1>
            <h3 id="fajer-time"></h3>
        </div>
        
        <!-- Second Prayer -->
        <div class="prayer-time-box-2">
            <h1>الظهر</h1>
            <h3 id="dhuhr-time"></h3>
        </div>
        
        <!-- Third Prayer -->
        <div class="prayer-time-box-3">
            <h1>العصر</h1>
            <h3 id="asr-time"></h3>
        </div>
        
        <!-- Fourth Prayer -->
        <div class="prayer-time-box-4">
            <h1>المغرب</h1>
            <h3 id="maghrib-time"></h3>
        </div>
        
        <!-- Fifth Prayer -->
        <div class="prayer-time-box-5">
            <h1>العشاء</h1>
            <h3 id="isha-time"></h3>
        </div>
        
    </div>

    <div class="split-bottom">
        <div class="prayer-zone-selector">
            <form action="/action_page.php">
                <label for="zone">اختار منطقة الصلاة:</label>
                <select id="zone">
                    
                </select>
                <input type="submit" value="إرسال">
            </form>
        </div>
    </div>

</body>

    <script src="./node_modules/axios/dist/axios.js"></script>
    <script >
    let citiesArray = { 
            "Istanbul": { country: "TR", city: "Istanbul" },
            "Ankara": { country: "TR", city: "Ankara" },
            "Izmir": { country: "TR", city: "Izmir" },
            "Bursa": { country: "TR", city: "Bursa" },
            "Antalya": { country: "TR", city: "Antalya" },
            "Konya": { country: "TR", city: "Konya" },
            "Adana": { country: "TR", city: "Adana" },
            "Gaziantep": { country: "TR", city: "Gaziantep" },
            "Kayseri": { country: "TR", city: "Kayseri" },
            "Mersin": { country: "TR", city: "Mersin" },
            "Eskisehir": { country: "TR", city: "Eskisehir" },
            "Diyarbakir": { country: "TR", city: "Diyarbakir" },
            "Samsun": { country: "TR", city: "Samsun" },
            "Trabzon": { country: "TR", city: "Trabzon" },
            "Malatya": { country: "TR", city: "Malatya" },
            "Erzurum": { country: "TR", city: "Erzurum" },
            "Manisa": { country: "TR", city: "Manisa" },
            "Sakarya": { country: "TR", city: "Sakarya" },
            "Kahramanmaras": { country: "TR", city: "Kahramanmaras" }
        };

        for (let city in citiesArray) {
            const content = `<option value="${citiesArray[city].city}">${citiesArray[city].city}</option>`; 
            document.getElementById('zone').innerHTML += content; 
        }
        // for option selector
        document.getElementById("zone").addEventListener("change", function(){
            let selectedCity = this.value ; /// getting the city's name
            fetchPrayerTime(selectedCity);

        })
        
        function fetchPrayerTime(chosenCity){
            if(chosenCity===null){
                chosenCity= "Istanbul"; 
            }

            axios.get('https://api.aladhan.com/v1/timingsByCity', {
                params: {
                    country: 'TR',  
                    city: chosenCity 
                }
            })
            .then(function (response) {
                console.log(response.data.data.timings);

                let fajer = response.data.data.timings.Fajr; 
                let Dhuhr = response.data.data.timings.Dhuhr; 
                let Asr = response.data.data.timings.Asr; 
                let Maghrib = response.data.data.timings.Maghrib; 
                let Isha = response.data.data.timings.Isha;  

                document.getElementById('fajer-time').innerHTML = fajer + " AM"; 
                document.getElementById('dhuhr-time').innerHTML = Dhuhr + " PM"; 
                document.getElementById('asr-time').innerHTML = Asr + " PM"; 
                document.getElementById('maghrib-time').innerHTML = Maghrib + " PM"; 
                document.getElementById('isha-time').innerHTML = Isha + " PM"; 

            })
            .catch(function (error) {
                console.log(error);
            });

        }
        fetchPrayerTime(null); 
        
    </script>
</html>
